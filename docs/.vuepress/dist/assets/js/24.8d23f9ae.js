(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{209:function(e,s,n){"use strict";n.r(s);var t=n(0),a=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"net"}},[e._v(".NET")]),e._v(" "),n("p",[e._v(".NET client SDK for KubeMQ. Simple interface to work with the KubeMQ server.")]),e._v(" "),n("h2",{attrs:{id:"general-sdk-description"}},[e._v("General SDK description")]),e._v(" "),n("p",[e._v("The SDK implements all communication patterns available through the KubeMQ server:")]),e._v(" "),n("ul",[n("li",[e._v("Events")]),e._v(" "),n("li",[e._v("EventStore")]),e._v(" "),n("li",[e._v("Command")]),e._v(" "),n("li",[e._v("Query")])]),e._v(" "),n("h2",{attrs:{id:"install-via-nuget"}},[e._v("Install via Nuget:")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("  Install-Package KubeMQ.SDK.csharp -Version 1.0.0\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("h3",{attrs:{id:"supports"}},[e._v("Supports:")]),e._v(" "),n("ul",[n("li",[e._v(".NET Framework 4.6.1")]),e._v(" "),n("li",[e._v(".NET Framework 4.7.1")]),e._v(" "),n("li",[e._v(".NET Standard 2.0")])]),e._v(" "),n("h2",{attrs:{id:"configurations"}},[e._v("Configurations")]),e._v(" "),n("p",[e._v("The only required configuration setting is the KubeMQ server address.")]),e._v(" "),n("p",[e._v("Configuration can be set by using one of the following:")]),e._v(" "),n("ul",[n("li",[e._v("Environment Variable")]),e._v(" "),n("li",[n("code",[e._v("appsettings.json")]),e._v(" file")]),e._v(" "),n("li",[n("code",[e._v("app.Config")]),e._v(" or "),n("code",[e._v("Web.config")]),e._v(" file")]),e._v(" "),n("li",[e._v("Within the code")])]),e._v(" "),n("h3",{attrs:{id:"configuration-via-environment-variable"}},[e._v("Configuration via Environment Variable")]),e._v(" "),n("p",[e._v("Set "),n("code",[e._v("KubeMQServerAddress")]),e._v(" to the KubeMQ Server Address")]),e._v(" "),n("h3",{attrs:{id:"configuration-via-appsettings-json"}},[e._v("Configuration via appsettings.json")]),e._v(" "),n("p",[e._v("Simply add the following to your appsettings.json:")]),e._v(" "),n("div",{staticClass:"language-JSON line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[e._v('"KubeMQ"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[e._v('"serverAddress"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('"{YourServerAddress}:{YourServerPort}"')]),e._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br")])]),n("h3",{attrs:{id:"configuration-via-app-config"}},[e._v("Configuration via app.Config")]),e._v(" "),n("p",[e._v("Simply add the following to your app.config:")]),e._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("configuration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("  \n   "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("configSections")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("  \n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("section")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("name")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("KubeMQ"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("type")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("System.Configuration.NameValueSectionHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("      \n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("configSections")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("  \n    \n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("KubeMQ")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("  \n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("add")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("key")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("serverAddress"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("value")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("{YourServerAddress}:{YourServerPort}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("KubeMQ")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("  \n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("configuration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br")])]),n("h3",{attrs:{id:"configuration-via-code"}},[e._v("Configuration via code")]),e._v(" "),n("p",[e._v("When setting the KubeMQ server address within the code, simply pass the address as a parameter to the various constructors.\nSee exactly how in the code examples in this document.")]),e._v(" "),n("h2",{attrs:{id:"usage-main-concepts"}},[e._v("Usage: Main concepts")]),e._v(" "),n("ul",[n("li",[n("strong",[e._v("Channel:")]),e._v(" Represents the endpoint target. One-to-one or one-to-many. Real-Time Multicast.")]),e._v(" "),n("li",[n("strong",[e._v("Group:")]),e._v(" Optional parameter when subscribing to a channel. A set of subscribers can define the same group so that only one of the subscribers within the group will receive a specific event. Used mainly for load balancing. Subscribing without the group parameter ensures receiving all the channel messages. (When using Grouping all the programs that are assigned to the group need to have to same channel name)")]),e._v(" "),n("li",[n("strong",[e._v("Metadata:")]),e._v(" The metadata allows us to pass additional information with the event. Can be in any form that can be presented as a string, i.e., struct, JSON, XML and many more.")]),e._v(" "),n("li",[n("strong",[e._v("Body:")]),e._v(" The actual content of the event. Can be in any form that is serializable into a byte array, i.e., string, struct, JSON, XML, Collection, binary file and many more.")]),e._v(" "),n("li",[n("strong",[e._v("ClientID:")]),e._v("  Displayed in logs, tracing and KubeMQ dashboard(When using EventStore it must be unique).")]),e._v(" "),n("li",[n("strong",[e._v("Event Store:")]),e._v(" The Event Store represents a persistence storge, should be used when need to store data on a volume.")])]),e._v(" "),n("h3",{attrs:{id:"the-subscriberequest-object"}},[e._v("The SubscribeRequest Object:")]),e._v(" "),n("p",[e._v("A struct that is used to initialize SubscribeToEvents/SubscribeToRequest,\nthe SubscribeRequest contains the following:")]),e._v(" "),n("ul",[n("li",[e._v("SubscribeType - Mandatory -  Enum that represent the subscription type:\n"),n("ul",[n("li",[e._v("Events - if there is no need for Persistence.")]),e._v(" "),n("li",[e._v("EventsStore - If you want to receive Events from persistence "),n("a",{attrs:{href:"#usage-main-concepts"}},[e._v("See Main concepts")]),e._v(".")]),e._v(" "),n("li",[e._v("Command - Should be used when a response is not needed.")]),e._v(" "),n("li",[e._v("Query - Should be used when a response is needed.")])])]),e._v(" "),n("li",[e._v("ClientID - Mandatory - "),n("a",{attrs:{href:"#usage-main-concepts"}},[e._v("See Main concepts")])]),e._v(" "),n("li",[e._v("Channel - Mandatory - "),n("a",{attrs:{href:"#usage-main-concepts"}},[e._v("See Main concepts")])]),e._v(" "),n("li",[e._v("Group - Optional - "),n("a",{attrs:{href:"#usage-main-concepts"}},[e._v("See Main concepts")])]),e._v(" "),n("li",[e._v("EventsStoreType - Mandatory - set the type event store to subscribe to "),n("a",{attrs:{href:"#usage-main-concepts"}},[e._v("Main concepts")]),e._v(".")])]),e._v(" "),n("h2",{attrs:{id:"usage-event-eventstore"}},[e._v("Usage: Event\\EventStore")]),e._v(" "),n("p",[e._v("Employing several variations of point to point Event communication style patterns.\nAllows to connect a sender to one or a group of subscribers")]),e._v(" "),n("ul",[n("li",[e._v("Subscribe to events")]),e._v(" "),n("li",[e._v("Send stream")]),e._v(" "),n("li",[e._v("Send single event")])]),e._v(" "),n("h3",{attrs:{id:"the-kubemq-sdk-csharp-events-lowlevel-event-object"}},[e._v("The "),n("code",[e._v("KubeMQ.SDK.csharp.Events.LowLevel.Event")]),e._v(" object:")]),e._v(" "),n("p",[e._v("Struct used to send and receive Events using the Event pattern. Contains the following fields (See "),n("a",{attrs:{href:"#usage-main-concepts"}},[e._v("Main concepts")]),e._v(" for more details on each field):")]),e._v(" "),n("ul",[n("li",[e._v("Channel")]),e._v(" "),n("li",[e._v("Metadata")]),e._v(" "),n("li",[e._v("Body")]),e._v(" "),n("li",[e._v("EventID - set internally")]),e._v(" "),n("li",[e._v("Store - Boolean, set if the event should be sent to store.")]),e._v(" "),n("li",[e._v("ClientID")])]),e._v(" "),n("h3",{attrs:{id:"the-eventsstoretype-object"}},[e._v("The 'EventsStoreType' object:")]),e._v(" "),n("p",[e._v("To receive events from persistence, the subscriber need to assign one of seven EventsStoreType and the value for EventsStoreTypeValue.")]),e._v(" "),n("ul",[n("li",[e._v("EventsStoreTypeUndefined - 0 - Should be set when there is no need for eventsStore.(when using this type there is no need to            set EventsStoreTypeValue)")]),e._v(" "),n("li",[e._v("StartNewOnly - 1 - The subscriber will only receive new events (from the time he subscribed).(when using this type there is              no need to set EventsStoreTypeValue)")]),e._v(" "),n("li",[e._v("StartFromFirst - 2 - The subscriber will receive all events from the start of the queue and all future events as well.(when              using this type there is no need to set EventsStoreTypeValue)")]),e._v(" "),n("li",[e._v("StartFromLast - 3 - The subscriber will receive the last event in queue and all future events as well.(when using this type              there is no need to set EventsStoreTypeValue)")]),e._v(" "),n("li",[e._v("StartAtSequence - 4 - The subscriber will receive events from the chosen Sequence and all future events as well. (need to                provide with long that of the wanted eventID)")]),e._v(" "),n("li",[e._v('StartAtTime - 5 - The subscriber will receive events that were "Stored" from a certain DateTime and all future events as well.            (need to provide with chosen time)')]),e._v(" "),n("li",[e._v('StartAtTimeDelta - 6 - The subscriber will receive events that were "Stored" from the difference between DateTime.Now minus              the delta was chosen. (need to provide with a long that represents the time delta to check within milliseconds)')])]),e._v(" "),n("h3",{attrs:{id:"method-subscribe"}},[e._v("Method: Subscribe")]),e._v(" "),n("p",[e._v("This method allows subscribing to events. Both single and stream of events.\nPass a delegate (callback) that will handle the incoming event(s).\nThe implementation uses "),n("code",[e._v("await")]),e._v(" and does not block the continuation of the code execution.")]),e._v(" "),n("p",[n("strong",[e._v("Parameters")]),e._v(":")]),e._v(" "),n("ul",[n("li",[e._v("SubscribeRequest - Mandatory-"),n("a",{attrs:{href:"#the-subscriberequest-object"}},[e._v("See SubscribeRequest")]),e._v(".")]),e._v(" "),n("li",[e._v("Handler - Mandatory. Delegate (callback) that will handle the incoming events.")])]),e._v(" "),n("p",[e._v("Initialize "),n("code",[e._v("Subscriber")]),e._v(" with server address from code:")]),e._v(" "),n("div",{staticClass:"language-C# line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('string serverAddress = "localhost:50000";\nSubscriber subscriber = new Subscriber(serverAddress);\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br")])]),n("p",[e._v("Initialize "),n("code",[e._v("Subscriber")]),e._v(" with server address set in configuration:")]),e._v(" "),n("div",{staticClass:"language-C# line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("Subscriber subscriber = new Subscriber();\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[e._v("Subscribe:")]),e._v(" "),n("div",{staticClass:"language-C# line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('string channel = "Sample.test1";\n// Set a SubscribeRequest without Store and with Group.\nSubscribeRequest subscribeRequest = new SubscribeRequest(SubscribeType.Events, "MyClientID", channel, EventsStoreType.Undefined, 0, "MyGroup");\nsubscriber.SubscribeToEvents(subscribeRequest,HandleIncomingEvents);\n\n// delegate to handle the incoming events\nprivate void HandleIncomingEvents(EventReceive @event)\n{\n...\n}\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br")])]),n("h3",{attrs:{id:"method-send-single"}},[e._v("Method: send single")]),e._v(" "),n("p",[e._v("This method allows for sending a single event.")]),e._v(" "),n("p",[n("strong",[e._v("parameters")]),e._v(":")]),e._v(" "),n("ul",[n("li",[e._v("KubeMQ.SDK.csharp.Events.LowLevel.Event - Mandatory. The actual Event that will be sent.")])]),e._v(" "),n("p",[e._v("Initialize "),n("code",[e._v("Sender")]),e._v(" with server address from code (also can be initialized using config file):")]),e._v(" "),n("div",{staticClass:"language-C# line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v(' string serverAddress = "localhost:50000";\n KubeMQ.SDK.csharp.Events.LowLevel.Sender sender = new KubeMQ.SDK.csharp.Events.LowLevel.Sender(serverAddress);\n \n// Create the Event\nKubeMQ.SDK.csharp.Events.LowLevel.Event @event = new KubeMQ.SDK.csharp.Events.LowLevel.Event()\n{\n    Channel = "Sample.test1",\n    Metadata = "A sample string Metadata",\n    Body = Tools.Converter.ToByteArray("Pubsub test Event"),\n    ClientID="MyID",\n    Store=false\n};\n// SendEvent\nsender.SendEvent(@event);\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br")])]),n("h3",{attrs:{id:"method-send-stream"}},[e._v("Method: send stream")]),e._v(" "),n("p",[e._v("This method allows for sending a stream of events.\nUse cases: sending a file in multiple packets; frequent high rate of events.")]),e._v(" "),n("p",[e._v("Initialize "),n("code",[e._v("Sender")]),e._v(" with server address from code (also can be initialized using config file):")]),e._v(" "),n("div",{staticClass:"language-C# line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('string serverAddress = "localhost:50000";\nSender sender = new Sender(serverAddress);\n\nKubeMQ.SDK.csharp.Events.LowLevel.Event @event;\n\nfor (int i = 1; i < 11; i++)\n{\n    event = CreateSimpleStringEvent(i);\n    \n    sender.StreamEvent(@event);\n\n    Thread.Sleep(1000);\n}\nsender.ClosesEventStreamAsync();\n\n \nprivate KubeMQ.SDK.csharp.Events.LowLevel.Event CreateSimpleStringEvent(int i = 0)\n{\n    return new KubeMQ.SDK.csharp.Events.LowLevel.Event()\n    {\n        Channel = "Sample.test1",\n        Metadata = "A sample string Metadata",\n        Body = Tools.Converter.ToByteArray("Pubsub test event "+ i)\n        ClientID="MyID",\n        Store=false\n    };\n}\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br"),n("span",{staticClass:"line-number"},[e._v("19")]),n("br"),n("span",{staticClass:"line-number"},[e._v("20")]),n("br"),n("span",{staticClass:"line-number"},[e._v("21")]),n("br"),n("span",{staticClass:"line-number"},[e._v("22")]),n("br"),n("span",{staticClass:"line-number"},[e._v("23")]),n("br"),n("span",{staticClass:"line-number"},[e._v("24")]),n("br"),n("span",{staticClass:"line-number"},[e._v("25")]),n("br"),n("span",{staticClass:"line-number"},[e._v("26")]),n("br"),n("span",{staticClass:"line-number"},[e._v("27")]),n("br")])]),n("h2",{attrs:{id:"usage-command-query"}},[e._v("Usage: Command\\Query")]),e._v(" "),n("p",[e._v("Request\\Reply communication pattern. Allows caching the response at the KubeMQ server.")]),e._v(" "),n("ul",[n("li",[e._v("Subscribe to requests")]),e._v(" "),n("li",[e._v("Send request")])]),e._v(" "),n("h3",{attrs:{id:"cache-mechanism"}},[e._v("Cache mechanism")]),e._v(" "),n("p",[e._v("KubeMQ server allows storing each response in a dedicated cache system. Each request can specify whether or not to use the cache.\nIn case the cache is used, the KubeMQ server will try to return the response directly from the cache and reduce latency.")]),e._v(" "),n("p",[e._v("To use the cache mechanism, add the following parameters to each "),n("code",[e._v("Request")]),e._v(":")]),e._v(" "),n("ul",[n("li",[e._v("CacheKey - Unique key to store the response in the KubeMQ cache mechanism.")]),e._v(" "),n("li",[e._v("CacheTTL - Cache data Time to live in milliseconds per CacheKey.")])]),e._v(" "),n("p",[e._v("In the "),n("code",[e._v("Response")]),e._v(" object you will receive an indication whether it was returned from cache:")]),e._v(" "),n("ul",[n("li",[e._v("CacheHit - Indication if the response was returned from KubeMQ cache.")])]),e._v(" "),n("h3",{attrs:{id:"the-kubemq-sdk-csharp-commandquery-lowlevel-request-object"}},[e._v("The "),n("code",[e._v("KubeMQ.SDK.csharp.CommandQuery.LowLevel.Request")]),e._v(" object:")]),e._v(" "),n("p",[e._v("Struct used to send the request under the Request\\Reply pattern. Contains the following fields (See Main concepts for more details on some field):")]),e._v(" "),n("ul",[n("li",[e._v("RequestID - Optional. Used to match Request to Response. If omitted, it will be set internally.")]),e._v(" "),n("li",[e._v("RequestType - Mandatory. Used to set if a response is expected or not.")]),e._v(" "),n("li",[e._v("ClientID - Mandatory. Displayed in logs, tracing, and KubeMQ dashboard.")]),e._v(" "),n("li",[e._v("Channel - Mandatory. The channel that the "),n("code",[e._v("Responder")]),e._v(" subscribed on.")]),e._v(" "),n("li",[e._v("Metadata - Mandatory.")]),e._v(" "),n("li",[e._v("ReplyChannel - Read-only, set internally.")]),e._v(" "),n("li",[e._v("Timeout - Mandatory. Max time for the response to return. Set per request. If exceeded an exception is thrown.")]),e._v(" "),n("li",[e._v("CacheKey - Optional.")]),e._v(" "),n("li",[e._v("CacheTTL - Optional.")])]),e._v(" "),n("h3",{attrs:{id:"the-response-object"}},[e._v("The "),n("code",[e._v("Response")]),e._v(" object:")]),e._v(" "),n("p",[e._v("Struct used to send the response under the Request\\Reply pattern.")]),e._v(" "),n("p",[e._v("The "),n("code",[e._v("Response")]),e._v(" Constructors requires the corresponding 'Request' object.")]),e._v(" "),n("p",[e._v("Contains the following fields (See Main concepts for more details on some field):")]),e._v(" "),n("ul",[n("li",[e._v("ClientID - Mandatory. Represents the sender ID the response was sent from.")]),e._v(" "),n("li",[e._v("RequestID - Set internally, used to match Request to Response.")]),e._v(" "),n("li",[e._v("CacheHit - Set internally, indication if the response was returned from KubeMQ cache.")]),e._v(" "),n("li",[e._v("ReplyChannel - Set internally, an indication the channel to send him the response.")]),e._v(" "),n("li",[e._v("Metadata - Mandatory.")]),e._v(" "),n("li",[e._v("Body - Mandatory.")]),e._v(" "),n("li",[e._v("Timestamp -Set Internally, an indication of the time the response was created.")]),e._v(" "),n("li",[e._v("Executed - Boolean that represents of the task the Responder was performed.")]),e._v(" "),n("li",[e._v("Error - Mandatory - Represents if an error occurred while processing the request.")])]),e._v(" "),n("h3",{attrs:{id:"method-subscribe-to-requests"}},[e._v("Method: Subscribe to requests")]),e._v(" "),n("p",[e._v("This method allows subscribing to receive requests.")]),e._v(" "),n("p",[n("strong",[e._v("parameters")]),e._v(":")]),e._v(" "),n("ul",[n("li",[e._v("SubscribeRequest - Mandatory-"),n("a",{attrs:{href:"#the-subscriberequest-object"}},[e._v("See SubscribeRequest")]),e._v(".")]),e._v(" "),n("li",[e._v("Handler - Mandatory. Delegate (callback) that will handle the incoming requests.")])]),e._v(" "),n("p",[e._v("Initialize "),n("code",[e._v("Responder")]),e._v(" with server address from code:")]),e._v(" "),n("div",{staticClass:"language-C# line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('string serverAddress = "localhost:50000";\nResponder responder = new Responder(serverAddress);\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br")])]),n("p",[e._v("Initialize "),n("code",[e._v("Responder")]),e._v(" with server address set in configuration:")]),e._v(" "),n("div",{staticClass:"language-C# line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("Responder responder = new Responder();\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[e._v("Subscribe")]),e._v(" "),n("div",{staticClass:"language-C# line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('string channel = "MyChannel.SimpleRequest";\n\n//Subscribe to request expecting to send a response(Queries) and no group.\nSubscribeRequest subscribeRequest = new SubscribeRequest(SubscribeType.Queries, "MyClientID", channel, EventsStoreType.Undefined, 0);\nresponder.SubscribeToRequests(subscribeRequest,HandleIncomingRequests);\n\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("p",[e._v("Handle requests and return responses")]),e._v(" "),n("div",{staticClass:"language-C# line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('// delegate to handle the incoming requests\nprivate Response HandleIncomingRequests(Request request)\n{\n    // Convert the request Body to a string\n    string strBody = Tools.Converter.FromByteArray(request.Body).ToString();\n    logger.LogDebug($"Respond to Request. ID:\'{request.ID}\', Channel:\'{request.Channel}\', Body:\'{strBody}\'");\n    \n    // Create the Response object\n    Response response = new Response(request)\n    {\n          Body = Converter.ToByteArray("OK"),\n          Error = "None",\n          ClientID = this.ClientID,\n          Executed = true,\n          Metadata = "OK",\n     };\n     return response;\n}\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br")])]),n("h3",{attrs:{id:"send-request-methods"}},[e._v("Send request methods")]),e._v(" "),n("p",[e._v("The KubeMQ SDK comes with two similar methods to send a "),n("code",[e._v("Request")]),e._v(" and wait for the "),n("code",[e._v("Response")])]),e._v(" "),n("ul",[n("li",[n("code",[e._v("SendRequestAsync")]),e._v(" returns the "),n("code",[e._v("Response")]),e._v(" in a Task")]),e._v(" "),n("li",[n("code",[e._v("SendRequest")]),e._v(" returns the "),n("code",[e._v("Response")]),e._v(" to the Delegate (callback) supplied as a parameter")])]),e._v(" "),n("h3",{attrs:{id:"method-send-request-async"}},[e._v("Method: send request Async")]),e._v(" "),n("p",[e._v("This method allows to send a request to the "),n("code",[e._v("Responder,")]),e._v(" it awaits for the "),n("code",[e._v("Response")]),e._v(" and returns it in a Task")]),e._v(" "),n("p",[n("strong",[e._v("parameters")]),e._v(":")]),e._v(" "),n("ul",[n("li",[e._v("KubeMQ.SDK.csharp.CommandQuery.LowLevel.Request - Mandatory. The "),n("code",[e._v("Request")]),e._v(" object to send.")])]),e._v(" "),n("p",[e._v("Initialize "),n("code",[e._v("Initiator")]),e._v(" with server address from code (also can be initialized using config file):")]),e._v(" "),n("div",{staticClass:"language-C# line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('string serverAddress = "localhost:50000";\nInitiator initiator = new Initiator(serverAddress);\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br")])]),n("p",[e._v("Send Request and await for Response")]),e._v(" "),n("div",{staticClass:"language-C# line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('KubeMQ.SDK.csharp.CommandQuery.LowLevel.Request request = KubeMQ.SDK.csharp.CommandQuery.LowLevel.new Request()\n            {\n                Channel = "MyChannel.SimpleRequest",\n                Metadata = "MyMetadata",\n                Body = Tools.Converter.ToByteArray("A Simple Request."),\n                Timeout = 5000,\n                CacheKey = "Simple.CacheKey",\n                CacheTTL = 5000,\n                RequestType=RequestType.Query,\n                ClientID="MyClientID"\n            };\n            \nResponse response = initiator.SendRequest(request);\n\n\n//Async\nResponse response = await initiator.SendRequestAsync(request);\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br")])]),n("h3",{attrs:{id:"method-send-request"}},[e._v("Method: send request")]),e._v(" "),n("p",[e._v("This method allows to send a request to the "),n("code",[e._v("Responder")]),e._v(", and returns the "),n("code",[e._v("Response")]),e._v(" to the Delegate (callback) supplied as a parameter")]),e._v(" "),n("div",{staticClass:"language-C# line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("initiator.SendRequest(HandleResponse, request);\n\n// Method to handle the responses\npublic void HandleResponse(Response response)\n{\n    ...\n}\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br")])]),n("h2",{attrs:{id:"usage-channel"}},[e._v("Usage Channel")]),e._v(" "),n("p",[e._v("Creating a Sender\\Initiator with a set of predefined parameters to prevent repetitive code.")]),e._v(" "),n("p",[e._v('*Replaces the channel parameter in the "low level" Event/Request.')]),e._v(" "),n("h3",{attrs:{id:"kubemq-sdk-csharp-events-channel"}},[e._v("KubeMQ.SDK.csharp.Events.Channel")]),e._v(" "),n("p",[e._v("Represents a Sender with a set of predefined parameters.")]),e._v(" "),n("p",[n("strong",[e._v("parameters")]),e._v(":")]),e._v(" "),n("ul",[n("li",[e._v("KubeMQ.SDK.csharp.Events.ChannelParameters - Mandatory.")])]),e._v(" "),n("h3",{attrs:{id:"the-kubemq-sdk-csharp-events-channelparameters-object"}},[e._v("The 'KubeMQ.SDK.csharp.Events.ChannelParameters' object:")]),e._v(" "),n("p",[e._v("A struct that is used to initialize a new Channel object.\n"),n("strong",[e._v("parameters")]),e._v(":")]),e._v(" "),n("ul",[n("li",[e._v("ChannelName - Mandatory. The channel that the "),n("code",[e._v("Responder")]),e._v(" subscribed on.")]),e._v(" "),n("li",[e._v("ClientID - Mandatory. Displayed in logs, tracing, and KubeMQ dashboard.")]),e._v(" "),n("li",[e._v("Store - Mandatory. Boolean, set if the event should be sent to store.")]),e._v(" "),n("li",[e._v("kubeMQAddress - Mandatory. KubeMQ server address.")]),e._v(" "),n("li",[e._v("ILogger - Optional. 'Microsoft.Extensions.Logging.ILogger', if passed, will write logs under that ILogger.")])]),e._v(" "),n("h3",{attrs:{id:"method-send-single-2"}},[e._v("Method: send single")]),e._v(" "),n("p",[e._v("This method allows sending a single event.")]),e._v(" "),n("p",[n("strong",[e._v("parameters")]),e._v(":")]),e._v(" "),n("ul",[n("li",[e._v("KubeMQ.SDK.csharp.Events.Event - Mandatory. The actual Event that will be sent.")])]),e._v(" "),n("h3",{attrs:{id:"the-kubemq-sdk-csharp-events-event-object"}},[e._v("The 'KubeMQ.SDK.csharp.Events.Event' object:")]),e._v(" "),n("p",[e._v('Represents an Event with a set of predefined parameters\nStruct used to send and receive events with a minimal set of parameters needed to be filled "manually."\n'),n("strong",[e._v("parameters")]),e._v(":")]),e._v(" "),n("ul",[n("li",[e._v("EventID - Will be set internally.")]),e._v(" "),n("li",[e._v("Metadata - Mandatory.")]),e._v(" "),n("li",[e._v("Body - Mandatory.")])]),e._v(" "),n("h3",{attrs:{id:"create-channel"}},[e._v("Create Channel.")]),e._v(" "),n("div",{staticClass:"language-C# line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('KubeMQ.SDK.csharp.Events.ChannelParameters eventChannelParameters = new KubeMQ.SDK.csharp.Events.ChannelParameters()\n{\n     ChannelName = this.ChannelName,\n     ClientID = "EventChannelID",\n     Store = false,\n     Logger = this.logger\n};\nKubeMQ.SDK.csharp.Events.Channel sender = new KubeMQ.SDK.csharp.Events.Channel(eventChannelParameters);\n \nKubeMQ.SDK.csharp.Events.Event @event = new KubeMQ.SDK.csharp.Events.Event()\n{\n    Body = Converter.ToByteArray("Event"),\n    Metadata = "EventChannel"\n};\n\nsender.SendEvent(@event);\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br")])]),n("h3",{attrs:{id:"method-send-stream-2"}},[e._v("Method: send stream")]),e._v(" "),n("div",{staticClass:"language-C# line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('Event @event;\n\nKubeMQ.SDK.csharp.Events.ChannelParameters eventChannelParameters = new KubeMQ.SDK.csharp.Events.ChannelParameters()\n{\n     ChannelName = this.ChannelName,\n     ClientID = "EventChannelID",\n     Store = false,\n     Logger = this.logger\n};\nKubeMQ.SDK.csharp.Events.Channel sender = new KubeMQ.SDK.csharp.Events.Channel(eventChannelParameters);\n\nfor (int i = 1; i < 11; i++)\n{\n    @event = CreateSimpleStringEvent(i);\n    \n    sender.StreamEvent(@event);\n\n    Thread.Sleep(1000);\n}\nsender.ClosesEventStreamAsync();\n\n \nprivate KubeMQ.SDK.csharp.Events.Event CreateSimpleStringEvent(int i = 0)\n{\n    return new KubeMQ.SDK.csharp.Events.Event()\n    {\n        Metadata = "A sample channel Metadata",\n        Body = Tools.Converter.ToByteArray("Pubsub test event "+ i)\n    };\n}\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br"),n("span",{staticClass:"line-number"},[e._v("19")]),n("br"),n("span",{staticClass:"line-number"},[e._v("20")]),n("br"),n("span",{staticClass:"line-number"},[e._v("21")]),n("br"),n("span",{staticClass:"line-number"},[e._v("22")]),n("br"),n("span",{staticClass:"line-number"},[e._v("23")]),n("br"),n("span",{staticClass:"line-number"},[e._v("24")]),n("br"),n("span",{staticClass:"line-number"},[e._v("25")]),n("br"),n("span",{staticClass:"line-number"},[e._v("26")]),n("br"),n("span",{staticClass:"line-number"},[e._v("27")]),n("br"),n("span",{staticClass:"line-number"},[e._v("28")]),n("br"),n("span",{staticClass:"line-number"},[e._v("29")]),n("br"),n("span",{staticClass:"line-number"},[e._v("30")]),n("br")])]),n("h3",{attrs:{id:"kubemq-sdk-csharp-commandquery-channel"}},[e._v("KubeMQ.SDK.csharp.CommandQuery.Channel")]),e._v(" "),n("p",[e._v("Represents a Initiator with a set of predefined parameters.")]),e._v(" "),n("p",[n("strong",[e._v("parameters")]),e._v(":")]),e._v(" "),n("ul",[n("li",[e._v("KubeMQ.SDK.csharp.CommandQuery.ChannelParameters - Mandatory .")])]),e._v(" "),n("h3",{attrs:{id:"the-kubemq-sdk-csharp-commandquery-channelparameters-object"}},[e._v("The 'KubeMQ.SDK.csharp.CommandQuery.ChannelParameters' object:")]),e._v(" "),n("p",[e._v("A struct that is used to initialize a new Channel object.")]),e._v(" "),n("p",[n("strong",[e._v("parameters")]),e._v(":")]),e._v(" "),n("ul",[n("li",[e._v("ChannelName - Mandatory. The channel that the "),n("code",[e._v("Initiator")]),e._v(" subscribed on.")]),e._v(" "),n("li",[e._v("ClientID - Mandatory. Displayed in logs, tracing, and KubeMQ dashboard.")]),e._v(" "),n("li",[e._v("Timeout - Mandatory. Max time for the response to return. Set per request. If exceeded an exception is thrown.")]),e._v(" "),n("li",[e._v("CacheKey - Optional.")]),e._v(" "),n("li",[e._v("CacheTTL - Optional.")]),e._v(" "),n("li",[e._v("kubeMQAddress - Mandatory. KubeMQ server address.")]),e._v(" "),n("li",[e._v("ILogger - Optional. 'Microsoft.Extensions.Logging.ILogger', if passed, will write logs under that ILogger.")])]),e._v(" "),n("h3",{attrs:{id:"method-send-single-3"}},[e._v("Method: send single")]),e._v(" "),n("p",[e._v("This method allows sending a single request.")]),e._v(" "),n("p",[n("strong",[e._v("parameters")]),e._v(":")]),e._v(" "),n("ul",[n("li",[e._v("KubeMQ.SDK.csharp.CommandQuery.Request - Mandatory. The actual request that will be sent.")])]),e._v(" "),n("h3",{attrs:{id:"the-kubemq-sdk-csharp-commandquery-request-object"}},[e._v("The 'KubeMQ.SDK.csharp.CommandQuery.Request' object:")]),e._v(" "),n("p",[e._v('Struct used to send requests with a minimal set of parameters needed to be filled "manually."')]),e._v(" "),n("p",[n("strong",[e._v("parameters")]),e._v(":")]),e._v(" "),n("ul",[n("li",[e._v("RequestID - Will be set internally.")]),e._v(" "),n("li",[e._v("Metadata - Mandatory.")]),e._v(" "),n("li",[e._v("Body - Mandatory.")])]),e._v(" "),n("h3",{attrs:{id:"method-create-channel"}},[e._v("Method: Create Channel.")]),e._v(" "),n("p",[e._v("Send Request and await for Response")]),e._v(" "),n("div",{staticClass:"language-C# line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('ChannelParameters channelParameters = new ChannelParameters()\n{\n    ChannelName = this.ChannelName,\n    ClientID = this.ClientID,\n    Timeout = this.Timeout,\n    Logger = logger,\n    RequestsType = RequestType.Query\n};\n\nChannel requestChannel = new Channel(requestChannelParameters);\n\nRequest request = new Request()\n{\n    Metadata = "CommandQueryChannel",\n    Body = Converter.ToByteArray("Request")\n};\n\nResponse response = requestChannel.SendRequest(request);\n\n\n//Async\nResponse response = await requestChannel.SendRequestAsync(request);\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br"),n("span",{staticClass:"line-number"},[e._v("19")]),n("br"),n("span",{staticClass:"line-number"},[e._v("20")]),n("br"),n("span",{staticClass:"line-number"},[e._v("21")]),n("br"),n("span",{staticClass:"line-number"},[e._v("22")]),n("br")])]),n("p",[e._v("This method allows to send a request to the "),n("code",[e._v("Responder")]),e._v(", and returns the "),n("code",[e._v("Response")]),e._v(" to the Delegate (callback) supplied as a parameter")]),e._v(" "),n("div",{staticClass:"language-C# line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("requestChannel.SendRequest(HandleResponse, request);\n\n// Method to handle the responses\npublic void HandleResponse(Response response)\n{\n    ...\n}\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br")])]),n("h2",{attrs:{id:"tools"}},[e._v("Tools")]),e._v(" "),n("p",[e._v("The KubeMQ SDK supplies methods to convert from and to the "),n("code",[e._v("body")]),e._v(" that is in byte array format.")]),e._v(" "),n("div",{staticClass:"language-C# line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('// Convert the request Body to a string\nstring strBody = Tools.Converter.FromByteArray(request.Body).ToString();\n    \n// Convert a string to the request Body\nBody = Tools.Converter.ToByteArray("A Simple Request."),\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br")])])])}],!1,null,null,null);a.options.__file="sdk-net.md";s.default=a.exports}}]);